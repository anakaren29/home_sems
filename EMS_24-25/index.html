<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,
user-scalable=no" />
<title>Planteles EMS 2024-2025</title>
<link rel="icon" href="escudo_mexico.ico">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>

    <!-- Mapas -->
<script src="https://cdn.maptiler.com/mapbox-gl-js/v0.53.0/mapbox-gl.js"></script>
<script src="https://cdn.maptiler.com/mapbox-gl-leaflet/latest/leaflet-mapbox-gl.js"></script>
<link rel="stylesheet" href="https://cdn.maptiler.com/mapbox-gl-js/v0.53.0/mapbox-gl.css" />

<!-- Leaflet Plugins -->
<link rel="stylesheet" href= "Control.MiniMap.css" />
<script src="Control.MiniMap.js"></script>
<link rel="stylesheet" href="leaflet-search-master\src\leaflet-search.css" />
<script src="leaflet-search-master\src\leaflet-search.js"></script>
<link rel="stylesheet" href="L.Control.Window.css" />
<script src="L.Control.Window.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@drustack/leaflet.resetview/dist/L.Control.ResetView.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@drustack/leaflet.resetview/dist/L.Control.ResetView.min.css"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.css" />
<script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.js"></script>

    <!-- Capas Geojson -->
<script src="nvomun.js"></script>
<script src="Planteles.js"></script>

<style>
body {
padding: 0;
margin: 0;
}
html, body, 
#map {
height: 89.5%;
}
#panel{
display: flex;
justify-content: left;
margin-left:15px;
background-color:#ffffff;
margin-top: 0px;
margin-bottom: 0px;
font: 14px/16px Patria, patria, patria;
}
.info {
padding: 6px 8px;
font: Noto sans;
background: gray;
background: rgba(255,255,255,0.8);
box-shadow: 0 0 15px rgba(0,0,0,0.2);
border-radius: 5px;
}
.info h2 {
margin: 0 0 5px;
color: #777;
}
.legend {
 line-height: 18px;
 color: #555;
}
.legend i {
 width: 18px;
 height: 18px;
 float: left;
 margin-right: 8px;
 opacity: 0.7;
}
.titulo {
margin: 1px 0;
padding: 0;
line-height: 1.2;
text-align: center;
}
.img {
margin-left: 10px;
margin-bottom: -28px;
}
.footer {
margin-top: 5px;
}
</style>
</head>

<body bgcolor="#ffffff", onload="estiloSelect()">
    <div class="titulo">
        <p style="color: #691C32; font-size:1.5vw; font-family: patria; text-align: center; margin: 0;">
            <b>Planteles públicos de Educación Media Superior</b>
        </p>
        <p style="color: #691C32; font-size: 1vw; font-family: noto sans; text-align: center; margin: 0;">
            Ciclo escolar 2024-2025
        </p>
    </div>

    <!-- Selector de subsistemas -->
<div id="panel">
<label><p style="color: #691C32; font-size:1vw; font-family: noto sans; text-align:left;"><b>Selección&nbsp;</b></label>
<select id="Subsistema" onchange="actualizarSeleccion('Subsistema')">
<option value="Todos" selected>Subsistemas</option>
<option value="DGETAyCM" >DGETAyCM</option>
<option value="DGETI">DGETI</option>
<option value="DGB" >DGB</option>
<option value="BTED" >BTED</option>
<option value="COLBACH (CDMX-EdoMéx)" >COLBACH (CDMX-EdoMéx)</option>
<option value="COBACH" >COBACH (Estados)</option>
<option value="CETI" >CETI (Jalisco)</option>
<option value="CECyTE" >CECyTE</option>
<option value="CONALEP (CDMX-OAX)" >CONALEP (CDMX-OAX)</option>
<option value="CONALEP (Estados)" >CONALEP (Estados)</option>
<option value="EMSaD" >EMSaD</option>
<option value="TBC" >TBC</option>
<option value="BIC" >BIC</option>
<option value="Otros programas estatales" >Otros programas estatales</option>
<option value="INBAL" >INBAL</option>
<option value="IPN" >IPN</option>
<option value="Otras Secretarías" >Otras Secretarías</option>
<option value="Bachillerato Estatal" >Bachillerato Estatal</option>
<option value="IEMS" >IEMS</option>
<option value="Bachillerato SECTEI" >Secretaría de Educación, Ciencia, Tecnología e Innovación (CDMX)</option>
<option value="Escuela Nacional para Ciegos" >Escuela Nacional para Ciegos</option>
<option value="IEBAS" >IEBAS</option>
<option value="CBDC" >CBDC</option>
<option value="Telebachillerato" >Telebachillerato</option>
<option value="Bachillerato de Universidades Públicas Autónomas" >Bachillerato de Universidades Públicas Autónoma</option>
</p></select>

    <!-- Selector por entidades -->
<select id="Entidad" onchange="actualizarSeleccion('Entidad')">
<option value="Todos" selected>Entidades federativas</option>
<option value="Aguascalientes" >Aguascalientes</option>
<option value="Baja California" >Baja California</option>
<option value="Baja California Sur">Baja California Sur</option>
<option value="Campeche" >Campeche</option>
<option value="Chiapas" >Chiapas</option>
<option value="Chihuahua" >Chihuahua</option>
<option value="Ciudad de México" >Ciudad de México</option>
<option value="Coahuila de Zaragoza" >Coahuila de Zaragoza</option>
<option value="Colima" >Colima</option>
<option value="Durango" >Durango</option>
<option value="Guanajuato" >Guanajuato</option>
<option value="Guerrero" >Guerrero</option>
<option value="Hidalgo" >Hidalgo</option>
<option value="Jalisco" >Jalisco</option>
<option value="México" >México</option>
<option value="Michoacán de Ocampo" >Michoacán de Ocampo</option>
<option value="Morelos" >Morelos</option>
<option value="Nayarit" >Nayarit</option>
<option value="Nuevo León" >Nuevo León</option>
<option value="Oaxaca" >Oaxaca</option>
<option value="Puebla" >Puebla</option>
<option value="Querétaro" >Querétaro</option>
<option value="Quintana Roo" >Quintana Roo</option>
<option value="San Luis Potosí" >San Luis Potosí</option>
<option value="Sinaloa" >Sinaloa</option>
<option value="Sonora" >Sonora</option>
<option value="Tabasco" >Tabasco</option>
<option value="Tamaulipas" >Tamaulipas</option>
<option value="Tlaxcala" >Tlaxcala</option>
<option value="Veracruz de Ignacio de la Llave" >Veracruz de Ignacio de la Llave</option>
<option value="Yucatán" >Yucatán</option>
<option value="Zacatecas" >Zacatecas</option>
</p></select>

<button id="limpiarBtn" style="display: none; margin-left: 10px; font-family: geomanist; background-color: #691C32; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer;" onclick="limpiarSeleccion()">Limpiar selección</button>
</div>

    <!-- Mapa base -->
<div id="map"></div>
<script type="text/javascript">
var map = L.map('map', {
center: [23.8173, -101.9665],
zoomSnap: 0.25,
zoom: 5.5,
maxBounds: [
//suroeste
[-0.3538, -141.4463],
//noreste
[53.8564, -52.8319]
],
zoomControl: false
});

L.control.zoom({
    zoomInTitle: 'Acercar',
    zoomOutTitle:'Alejar'
}).addTo(map);

var grises = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}', {minZoom: 5, maxZoom: 16}).addTo(map);

var Esri_WorldImagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {minZoom: 5, maxZoom: 18});

var Esri_WorldStreetMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}');

    // Ventana emergente instrucciones
var win =  L.control.window(map,{title: '¿Cómo navegar el mapa interactivo?', content:'El mapa interactivo muestra los planteles públicos de Educación Media Superior por subsistema y/o servicio educativo del ciclo escolar 2024-2025 con información estadística, también brinda información contextual por municipio. Se puede realizar una selección a través del subsistema y/o de entidad federativa, así como una búsqueda por Clave de Centro de Trabajo (CCT). Al seleccionar por entidad federativa solo se muestra los subsistemas presentes en la misma.', position: 'top'})
           .show()

    //Reseteo zoom
L.control.resetView({
        position: "topleft",
        title: "Restaurar vista",
        latlng: L.latLng([23.8173, -101.9665]),
        zoom: 5.5,
}).addTo(map);

// Variables para almacenar las capas de resaltado
var municipiosResaltadosEntidad = null;

// Crear un pane especial para el resaltado de municipios (debajo de los planteles)
map.createPane('municipiosResaltados');
map.getPane('municipiosResaltados').style.zIndex = 350; // Valor menor que el overlayPane (400)

    //Capa municipios base
var mun = L.geoJSON(nvomun, {
    style: function() {
        return {
            fillColor: '#e6d194',
            weight: 0.8,
            opacity: 0.4,
            color: '#6F7271',
            dashArray: '0',
            fillOpacity: 0.6
        };
    },
    pane: 'tilePane', 
    onEachFeature: popup
}).addTo(map);

// Función para limpiar todas las selecciones
function limpiarSeleccion() {
    // Restablecer los selectores a "Todos"
    document.getElementById("Subsistema").value = "Todos";
    document.getElementById("Entidad").value = "Todos";
    
    // Ocultar el botón de limpiar
    document.getElementById("limpiarBtn").style.display = "none";
    
    // Actualizar el mapa
    actualizarSeleccion('Subsistema');
    actualizarSeleccion('Entidad');
}

// Función para verificar si hay alguna selección activa
function haySeleccionActiva() {
    var subsistema = document.getElementById("Subsistema").value;
    var entidad = document.getElementById("Entidad").value;
    return subsistema !== "Todos" || entidad !== "Todos";
}

// Función para actualizar la visibilidad del botón de limpiar
function actualizarBotonLimpiar() {
    var limpiarBtn = document.getElementById("limpiarBtn");
    if (haySeleccionActiva()) {
        limpiarBtn.style.display = "inline-block";
    } else {
        limpiarBtn.style.display = "none";
    }
}

// Función para actualizar la selección
function actualizarSeleccion(tipo) {
    // Obtener valores actuales
    var subsistemaSeleccionado = document.getElementById("Subsistema").value;
    var entidadSeleccionada = document.getElementById("Entidad").value;
    
    // Actualizar visibilidad del botón de limpiar
    actualizarBotonLimpiar();
    
    // Si estamos cambiando el subsistema, mostrar texto informativo si es necesario
    if (tipo === 'Subsistema' && subsistemaSeleccionado !== "Todos") {
        mostrarTexto();
    }
    
    // Si estamos cambiando la entidad, resaltar municipios si es necesario
    if (tipo === 'Entidad') {
        resaltarMunicipiosPorEntidad();
    }
    
    // Actualizar siempre los planteles visibles
    estiloSelect();
}

// Función para resaltar municipios por entidad federativa
function resaltarMunicipiosPorEntidad() {
    var entidadSeleccionada = document.getElementById("Entidad").value;
    
    // Eliminar resaltados anteriores
    if (municipiosResaltadosEntidad) {
        map.removeLayer(municipiosResaltadosEntidad);
    }
    
    // Si se selecciona "Todos", no resaltar nada
    if (entidadSeleccionada === "Todos") {
        return;
    }
    
    // Crear capa de municipios resaltados
    municipiosResaltadosEntidad = L.geoJSON(nvomun, {
        pane: 'municipiosResaltados',
        style: function(feature) {
            if (feature.properties.Entidad === entidadSeleccionada) {
                return {
                    fillColor: '#a57f2c',
                    weight: 1.5,
                    opacity: 1,
                    color: '#7e664a',
                    fillOpacity: 0.7
                };
            } else {
                return {
                    fillColor: '#e6d194',
                    weight: 0.8,
                    opacity: 0.4,
                    color: '#6F7271',
                    dashArray: '0',
                    fillOpacity: 0.6
                };
            }
        },
        onEachFeature: popup
    });
    
    // Añadir capa al mapa
    municipiosResaltadosEntidad.addTo(map);
}

function popup(feature, layer) {
if (feature.properties && feature.properties.NOMGEO) {
layer.bindPopup("<div style=text-align:center><h2>"+feature.properties.NOMGEO+"</h2></div><hr><table><tr><td><b>Entidad: </b>" +feature.properties.Entidad+"</td></tr><tr><td><b>Grado de marginación: </b>"+feature.properties.GM_2020+"</td></tr><tr><td><b>Población total: </b>"+feature.properties.PobTot25+"</td></tr><tr><td><b>Población 15 a 19: </b>"+feature.properties.Pob_15_19+"</td></tr><tr><td><b>Porcentaje 15 a 19: </b>"+feature.properties.Porc_15_19+"</td></tr><tr><td><b>15 a 17 con secundaria y continuó en EMS: </b>"+feature.properties.Con_EMS_sigue+"</td></tr><tr><td><b>15 a 17 con secundaria y no continuó en EMS: </b>"+feature.properties.Con_EMS_NoSigue+"</td></tr><tr><td><b>Porcentaje 15 a 17 con secundaria y no continuó en EMS: </b>"+feature.properties.Porc_NoSigue+"</td></tr></table>",
{minWidth: 150, maxWidth: 200});
}}

    //Control de capas
var baseLayers = {
"Mapa en grises": grises,
"Mapa satelital": Esri_WorldImagery
};
L.control.layers(baseLayers, false,{collapsed:false}).addTo(map);

    //Capa planteles
var planteles = L.geoJSON(Planteles, {
pointToLayer: function (feature, latlng) {
return L.circleMarker(latlng);
},
pane: 'overlayPane',
style:estilo_planteles,
onEachFeature: popup_planteles
});
map.addLayer(planteles);
planteles.bindTooltip(function (layer) {
    return layer.feature.properties.Subsistema;
 })

function popup_planteles (feature, layer) {
layer.bindPopup("<div style=text-align:center><h4>"+feature.properties.Subsistema+"<br>"+feature.properties.CCT+"</div><hr><table><tr><td style=text-align:left><b>Nombre: </b>"+feature.properties.Nombre+"</td></tr><tr><td style=text-align:left><b>Tipo: </b>"+feature.properties.Fuente+"</td></tr><tr><td style=text-align:left><b>Entidad: </b>"+feature.properties.Entidad+"</td></tr><tr><td style=text-align:left><b>Municipio: </b>"+feature.properties.Municipio+"</table></td></tr><hr><table><tr><td style=text-align:left><b>Matrícula total: </b>"+feature.properties.MatTot+"</td></tr><tr><td style=text-align:left><b>Total nuevos ingresos: </b>"+feature.properties.NvoIngTot+"</td></tr><tr><td style=text-align:left><b>Egresos total 23-24: </b>"+feature.properties.EgrTot+"</td></tr><tr><td style=text-align:left><b>Alumnado con alguna discapacidad: </b>"+feature.properties.PCDtot+"</td></tr><tr><td style=text-align:left><b>Alumnado hablante de lengua indígena: </b>"+feature.properties.HLItot+"</td></tr><tr><td style=text-align:left><b>Total de docentes: </b>"+feature.properties.DocTot+"</td></tr></table>",
{minWidth: 150, maxWidth: 200}); 
};
function colorPuntos(d) {
return d == "DGETAyCM" ? '#2b83ba' :
d == "DGETI" ? '#3b8eb7' :
d == "DGB" ? '#98cfa7' :
d == "BTED" ? '#b3e0a6' :
d == "COLBACH (CDMX-EdoMéx)" ? '#c7e8ad' :
d == "COBACH" ? '#bde4aa' :
d == "CETI" ? '#e6f5b7' :
d == "CECyTE" ? '#fdbf75' :
d == "CONALEP (CDMX-OAX)" ? '#d1ecb0' :
d == "CONALEP (Estados)" ? '#dbf1b4' :
d == "EMSaD" ? '#fedd97' :
d == "TBC" ? '#fff0ae' :
d == "BIC" ? '#fed38c' :
d == "Otros programas estatales" ? '#e03d2d' :
d == "INBAL" ? '#fffab9' :
d == "IPN" ? '#f0f9ba' :
d == "Otras Secretarías" ? '#e54f35' :
d == "Bachillerato Estatal" ? '#e9613d' :
d == "IEMS" ? '#fca95f' :
d == "Bachillerato SECTEI" ? '#f79757' :
d == "Escuela Nacional para Ciegos" ? '#f3854e' :
d == "IEBAS" ? '#fdb56a' :
d == "CBDC" ? '#fec980' :
d == "Telebachillerato" ? '#fee6a3' :
d == "Bachillerato de Universidades Públicas Autónomas" ? '#ee7346' :
d == "Bachillerato General" ? '#9b2247' :
d == "Bachillerato Tecnológico" ? '#1e5b4f' :
'#000000';
};
function estilo_planteles (feature) {
return{
radius: 6,
fillColor: colorPuntos(feature.properties.Fuente),
color: "#FFFFFF", //"#98989A"
weight: .5,
opacity : 1,
fillOpacity : 0.8
};
};

    //Selector de subsistemas y entidades
function estiloSelect() {
    var subsistemaSeleccionado = document.getElementById("Subsistema").value;
    var entidadSeleccionada = document.getElementById("Entidad").value;
    
    // Primero eliminamos todos los planteles existentes
    planteles.clearLayers();
    
    // Filtramos los planteles según las selecciones
    var plantelesFiltrados = Planteles.features.filter(function(feature) {
        var cumpleSubsistema = (subsistemaSeleccionado === "Todos" || feature.properties.Subsistema === subsistemaSeleccionado);
        var cumpleEntidad = (entidadSeleccionada === "Todos" || feature.properties.Entidad === entidadSeleccionada);
        return cumpleSubsistema && cumpleEntidad;
    });
    
    // Creamos una nueva capa GeoJSON con los planteles filtrados
    var capaFiltrada = L.geoJSON(plantelesFiltrados, {
        pointToLayer: function (feature, latlng) {
            return L.circleMarker(latlng);
        },
        style: estilo_planteles,
        onEachFeature: popup_planteles
    });
    
    // Añadimos la capa filtrada al grupo de planteles
    planteles.addLayer(capaFiltrada);
    
    // Actualizamos el buscador para que funcione con los planteles visibles
    searchControl.setLayer(planteles);
}

    //Ventana emergente con texto
 function mostrarTexto() {
      var seleccion = document.getElementById("Subsistema").value;
      switch (seleccion) {
                case "DGETAyCM":
                    alert("Dirección General de Educación Tecnológica Agropecuaria y Ciencias del Mar (DGETAyCM) | Matrícula escolarizada a nivel nacional: 210,100 estudiantes | Número de planteles escolarizados a nivel nacional: 404");
                    break;
                case "DGETI":
                    alert("Dirección General de Educación Tecnológica Industrial y de Servicios (DGETI) | Matrícula escolarizada a nivel nacional: 630,185 estudiantes | Número de planteles escolarizados a nivel nacional: 456");
                    break;
               case "DGB":
                    alert("Dirección General de Bachillerato (DGB) | Matrícula escolarizada a nivel nacional: 31,029 estudiantes | Número de planteles escolarizados a nivel nacional: 42");
                    break;
                case "BTED":
                    alert("Bachillerato Tecnológico de Educación y Promoción Deportiva (BTED) | Matrícula escolarizada a nivel nacional: 1,326 estudiantes | Número de planteles escolarizados a nivel nacional: 7");
                    break;
                case "COLBACH (CDMX-EdoMéx)":
                    alert("Colegio de Bachilleres (COLBACH - CDMX-EdoMéx)| Matrícula escolarizada a nivel nacional: 89,751 estudiantes | Número de planteles escolarizados a nivel nacional: 20");
                    break;
                case "COBACH":
                    alert("Colegio de Bachilleres (COBACH) | Matrícula escolarizada a nivel nacional: 692,754 estudiantes | Número de planteles escolarizados a nivel nacional: 1,192");
                    break;
                case "CETI":
                    alert("Centro de Enseñanza Técnica Industrial (CETI)| Matrícula escolarizada a nivel nacional: 4,409 estudiantes | Número de planteles escolarizados a nivel nacional: 3");
                    break;
                case "CECyTE":
                    alert("Colegio de Estudios Cientificos y Tecnológicos (CECyTE) | Matrícula escolarizada a nivel nacional: 393,804 estudiantes | Número de planteles escolarizados a nivel nacional: 678");
                    break;
                case "CONALEP (CDMX-OAX)":
                    alert("Colegio Nacional de Educación Profesional Técnica (CONALEP - CDMX-Oax) | Matrícula escolarizada a nivel nacional: 45,227 estudiantes | Número de planteles escolarizados a nivel nacional: 33");
                    break;
                case "CONALEP (Estados)":
                    alert("Colegio Nacional de Educación Profesional Técnica (CONALEP - Estados) | Matrícula escolarizada a nivel nacional: 279,147 estudiantes | Número de planteles escolarizados a nivel nacional: 280");
                    break;
                case "EMSaD":
                    alert("Educación Media Superior a Distancia (EMSaD) | Matrícula escolarizada a nivel nacional: 140,835 estudiantes | Número de planteles escolarizados a nivel nacional: 1,227");
                    break;
                case "TBC":
                    alert("Telebachillerato Comunitario (TBC) | Matrícula escolarizada a nivel nacional: 145,500 estudiantes | Número de planteles escolarizados a nivel nacional: 3,289");
                    break;
                case "BIC":
                    alert("Bachillerato Intercultural Bilingüe (BIC) | Matrícula escolarizada a nivel nacional: 1,810 estudiantes | Número de planteles escolarizados a nivel nacional: 14");
                    break;
                case "Otros programas estatales":
                    alert("Planteles de otras dependencias estatales | Matrícula escolarizada a nivel nacional: 804 estudiantes | Número de planteles escolarizados a nivel nacional: 4");
                    break;
                case "INBAL":
                    alert("Instituto Nacional de Bellas Artes y Literatura (INBAL) | Matrícula escolarizada a nivel nacional: 3,399 estudiantes | Número de planteles escolarizados a nivel nacional: 16");
                    break;
                case "IPN":
                    alert("Instituto Politécnico Nacional (IPN) | Matrícula escolarizada a nivel nacional: 72,752 estudiantes | Número de planteles escolarizados a nivel nacional: 21");
                    break;
                case "Otras Secretarías":
                    alert("Planteles de otras subsecretarías | Matrícula escolarizada a nivel nacional: 844 estudiantes | Número de planteles escolarizados a nivel nacional: 5");
                    break;
                case "Bachillerato Estatal":
                    alert("Bachilleratos Estatales | Matrícula escolarizada a nivel nacional: 649,291 estudiantes | Número de planteles escolarizados a nivel nacional: 2,002");
                    break;
                case "IEMS":
                    alert("Instituto de Educación Media Superior (IEMS) | Matrícula escolarizada a nivel nacional: 32,061 estudiantes | Número de planteles escolarizados a nivel nacional: 27");
                    break;
                case "Bachillerato SECTEI":
                    alert("Bachillerato de la Secretaría de Educación, Ciencia, Tecnología e Innovación CDMX | Matrícula escolarizada a nivel nacional: 384 estudiantes | Número de planteles escolarizados a nivel nacional: 1");
                    break;
                case "Escuela Nacional para Ciegos":
                    alert("Escuela Nacional para Ciegos | Matrícula escolarizada a nivel nacional: 49 estudiantes | Número de planteles escolarizados a nivel nacional: 1");
                    break;
                case "IEBAS":
                    alert("Instituto Estatal de Bellas Artes (IEBAS) | Matrícula escolarizada a nivel nacional: 1,870 estudiantes | Número de planteles escolarizados a nivel nacional: 29");
                    break;
                case "CBDC":
                    alert("Centro de Bachillerato de Desarrollo Comunitario (CBDC) | Matrícula escolarizada a nivel nacional: 5,459 estudiantes | Número de planteles escolarizados a nivel nacional: 48");
                    break;
                case "Telebachillerato":
                    alert("Telebachillerato | Matrícula escolarizada a nivel nacional: 171,224 estudiantes | Número de planteles escolarizados a nivel nacional: 2,031");
                    break;
                case "Bachillerato de Universidades Públicas Autónomas":
                    alert("Bachillerato de Universidades Públicas Autónomas | Matrícula escolarizada a nivel nacional: 697,280 estudiantes | Número de planteles escolarizados a nivel nacional: 596");
                    break;
                case "Todos":
                    alert("Educación Media Superior en la modalidad escolarizada de sostenimiento público del ciclo escolar 2024-2025 | Matrícula escolarizada a nivel nacional: 4,301,294 estudiantes | Número de planteles a nivel nacional: 12,426");
                    break;
                default:
                    alert("Opción no válida");
            }
             }

    //Buscador de CCT
var searchControl = new L.Control.Search({
       layer: planteles,
       propertyName: 'CCT',
       circleLocation: true,
       collapsed: true,
       zoom: 9,
       hideMarkerOnCollapse: true,
       textPlaceholder: 'Búsqueda por CCT',
});searchControl.on('search_locationfound', function(e) {
        e.layer.setStyle({fillColor: '#3f0', color: '#0f0'});
    })
    .on('search_collapsed', function(e) {
        planteles.eachLayer(function(layer) { //restauramos el color del elemento
            planteles.resetStyle(layer);
        }); 
    });
        map.addControl(searchControl);

//Leyenda
function getColor(value) {
return value === 'valor1' ? '#9b2247' :
value === 'valor2' ? '#1e5b4f' :
'gray';
}
var legend = L.control({position: 'bottomright'});

legend.onAdd = function (map) {
var div = L.DomUtil.create('div', 'info legend');
div.innerHTML += '<h3>Tipo de bachillerato</h3>';

    // leyenda con colores y etiquetas
  div.innerHTML += '<i style="background:' + getColor('valor1') + '"></i>Bachillerato General<br>';
  div.innerHTML += '<i style="background:' + getColor('valor2') + '"></i>Bachillerato Tecnológico<br>';
return div;
};

legend.addTo(map);

planteles.bindTooltip(function (layer) {
    return layer.feature.properties.Subsistema;
 });

    //Ubicación
var lc = L.control.locate({ position: "topright", flyTo: true, strings: { title: "Su localización",  popup: "Su ubicación aproximada es a {distance}m de este punto." }, locateOptions: { enableHighAccuracy: true} })

L.control.locate().addTo(map);


</script>
<footer>
    <div style="text-align: center;">
        <div class="img" style="margin-bottom: 15px;">
            <img src="SEP_25.png" 
                 style="display: block; margin: 0 auto;" 
                 width="250"
                 height="110">
        </div>
        <div class="footer">
            <p style="color: #691C32; font-size:.7vw; font-family: Noto Sans; text-align:center">
                <b>Subsecretaría de Educación Media Superior | Coordinación Sectorial de Planeación y Administración | Área de Estadística | Junio 2025</b>
            </p>
        </div>
    </div>
</footer>
</body>
</html>